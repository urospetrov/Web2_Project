{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\irenv\\\\Desktop\\\\dummy\\\\src\\\\helpers\\\\ProtectedRoute.js\";\nimport React from \"react\";\nimport { Route, Navigate } from 'react-router-dom';\nimport jwtDecode from \"jwt-decode\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProtectedRoute = ({\n  element: Component,\n  allowedRoles,\n  ...rest\n}) => {\n  const getUserRole = () => {\n    var token = localStorage.getItem(\"token\");\n    if (token) {\n      try {\n        const decodedToken = jwtDecode(token);\n        return decodedToken[\"http://schemas.microsoft.com/ws/2008/06/identity/claims/role\"];\n      } catch (error) {\n        console.error(\"Error decoding token:\", error);\n      }\n    }\n    return null;\n  };\n  const userRole = getUserRole();\n  if (allowedRoles.includes(userRole)) {\n    return /*#__PURE__*/_jsxDEV(Route, {\n      ...rest,\n      element: /*#__PURE__*/_jsxDEV(Component, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 21,\n        columnNumber: 42\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 16\n    }, this);\n  } else {\n    // Dodajte \"return\" ispred <Navigate> kako biste ispravili grešku.\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 16\n    }, this);\n  }\n};\n_c = ProtectedRoute;\nexport default ProtectedRoute;\nvar _c;\n$RefreshReg$(_c, \"ProtectedRoute\");","map":{"version":3,"names":["React","Route","Navigate","jwtDecode","jsxDEV","_jsxDEV","ProtectedRoute","element","Component","allowedRoles","rest","getUserRole","token","localStorage","getItem","decodedToken","error","console","userRole","includes","fileName","_jsxFileName","lineNumber","columnNumber","to","_c","$RefreshReg$"],"sources":["C:/Users/irenv/Desktop/dummy/src/helpers/ProtectedRoute.js"],"sourcesContent":["import React from \"react\";\r\nimport { Route, Navigate } from 'react-router-dom';\r\nimport jwtDecode from \"jwt-decode\";\r\n\r\nconst ProtectedRoute = ({ element: Component, allowedRoles, ...rest }) => {\r\n    const getUserRole = () => {\r\n        var token = localStorage.getItem(\"token\");\r\n        if (token) {\r\n            try {\r\n                const decodedToken = jwtDecode(token);\r\n                return decodedToken[\"http://schemas.microsoft.com/ws/2008/06/identity/claims/role\"];\r\n            } catch (error) {\r\n                console.error(\"Error decoding token:\", error);\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    const userRole = getUserRole();\r\n    if (allowedRoles.includes(userRole)) {\r\n        return <Route {...rest} element={<Component />} />;\r\n    } else {\r\n        // Dodajte \"return\" ispred <Navigate> kako biste ispravili grešku.\r\n        return <Navigate to=\"/\" />;\r\n    }\r\n};\r\n\r\nexport default ProtectedRoute;\r\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,KAAK,EAAEC,QAAQ,QAAQ,kBAAkB;AAClD,OAAOC,SAAS,MAAM,YAAY;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEnC,MAAMC,cAAc,GAAGA,CAAC;EAAEC,OAAO,EAAEC,SAAS;EAAEC,YAAY;EAAE,GAAGC;AAAK,CAAC,KAAK;EACtE,MAAMC,WAAW,GAAGA,CAAA,KAAM;IACtB,IAAIC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IACzC,IAAIF,KAAK,EAAE;MACP,IAAI;QACA,MAAMG,YAAY,GAAGZ,SAAS,CAACS,KAAK,CAAC;QACrC,OAAOG,YAAY,CAAC,8DAA8D,CAAC;MACvF,CAAC,CAAC,OAAOC,KAAK,EAAE;QACZC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;MACjD;IACJ;IACA,OAAO,IAAI;EACf,CAAC;EAED,MAAME,QAAQ,GAAGP,WAAW,CAAC,CAAC;EAC9B,IAAIF,YAAY,CAACU,QAAQ,CAACD,QAAQ,CAAC,EAAE;IACjC,oBAAOb,OAAA,CAACJ,KAAK;MAAA,GAAKS,IAAI;MAAEH,OAAO,eAAEF,OAAA,CAACG,SAAS;QAAAY,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE;IAAE;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EACtD,CAAC,MAAM;IACH;IACA,oBAAOlB,OAAA,CAACH,QAAQ;MAACsB,EAAE,EAAC;IAAG;MAAAJ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAC9B;AACJ,CAAC;AAACE,EAAA,GArBInB,cAAc;AAuBpB,eAAeA,cAAc;AAAC,IAAAmB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}